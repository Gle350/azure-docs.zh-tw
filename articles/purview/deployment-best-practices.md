---
title: 部署最佳做法
description: 本文提供部署 Azure 範疇的最佳做法。 Azure Purview 可讓任何使用者註冊、探索、了解及取用資料來源。
author: shsandeep123
ms.author: sandeepshah
ms.service: purview
ms.subservice: purview-data-catalog
ms.topic: conceptual
ms.date: 11/23/2020
ms.openlocfilehash: 48966e481f9cf8796c866b5c15a4e2a8616eade7
ms.sourcegitcommit: b6267bc931ef1a4bd33d67ba76895e14b9d0c661
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/19/2020
ms.locfileid: "97695864"
---
# <a name="azure-purview-deployment-best-practices"></a>Azure 範疇部署最佳做法

本文識別可協助您將範疇部署到生產環境的一般工作。 這些工作可以在一或多個月的課程中完成。 即使是已部署範疇的組織，也可以使用本指南來確保其投資發揮最大效益。

妥善規劃的資料控管平臺部署 (例如 Azure 範疇) ，可提供下列優點：

- 更好的資料探索
- 改進分析協同作業
- 投資報酬率最大化。

## <a name="prerequisites"></a>必要條件

* 使用開發或生產訂用帳戶存取 Microsoft Azure
* 能夠建立 Azure 資源，包括範疇
* 存取資料來源，例如測試、開發或生產環境中的 Azure Data Lake Storage 或 Azure SQL
  * 針對 Data Lake Storage，需要掃描的角色是讀者角色
  * 針對 SQL，身分識別必須能夠查詢資料表以進行分類的取樣
* 存取 Azure 資訊安全中心或能夠與安全性中心系統管理員共同作業標記資料

## <a name="identify-objectives-and-goals"></a>識別目標和目標

許多組織都已開始開發個別的解決方案，以滿足組織內隔離群組和資料網域的特定需求，以開始他們的資料治理旅程。 雖然體驗可能會因產業、產品和文化特性而異，但大部分的組織會發現很難針對這些類型的解決方案維護一致的控制項和原則。

您可能想要在早期階段識別的一些常見資料治理目標包括：

* 最大化資料的商業價值
* 啟用資料文化特性，讓資料取用者可以輕鬆地尋找、解讀和信任資料
* 增加不同業務單位之間的共同作業，以提供一致的資料體驗
* 藉由加速資料分析以充分利用雲端的優勢來促進創新
* 透過各種技能群組的自助選項縮短探索資料的時間
* 縮短提供分析解決方案的上市時間，以將服務提升至客戶
* 降低因使用網域專屬工具和不支援技術所造成的操作風險

一般的方法是將這些整體目標細分為各種類別和目標。 部份範例如下：

|類別|目標|
|---------|---------|
|探索|系統管理使用者應該能夠掃描 Azure 和非 Azure 資料來源 (包括內部部署來源) ，以自動收集資料資產的相關資訊。|
|分類|平臺應該會根據資料取樣自動分類資料，並允許使用自訂分類進行手動覆寫。|
|耗用量|企業使用者應該可以尋找商務和技術中繼資料之每個資產的相關資訊。|
|歷程|每個資產都必須顯示基礎資料集的圖形化視圖，讓使用者瞭解原始來源，以及所做的變更。|
|共同作業|平臺必須允許使用者藉由提供每個資料資產的額外資訊來共同作業。|
|報告|使用者必須能夠在資料資產上查看報表，包括需要額外擴充的機密資料和資料。|
|資料治理|平臺必須允許系統管理員定義存取控制的原則，並根據每個使用者自動強制執行資料存取。|
|工作流程|平臺必須能夠建立和修改工作流程，以便輕鬆地在平臺內擴充和自動化各種工作。|
|整合|其他協力廠商技術（例如票證或協調流程）必須能夠透過腳本或 REST Api 整合到平臺。|

## <a name="top-questions-to-ask"></a>要詢問的熱門問題

當您的組織同意高階目標和目標之後，多個群組會有許多問題。 請務必收集這些問題，才能製作計畫來解決所有問題。 您可能會在初始階段中遇到的一些範例問題：

1. 什麼是主要的組織資料來源和資料系統？
2. 針對範疇不支援的資料來源，我有哪些選項？
3. 我們需要多少個範疇實例？
4. 誰是使用者？
5. 誰可以掃描新的資料來源？
6. 誰可以修改範疇內的內容？
7. 我可以使用哪些程式來改善範疇中的資料品質？
8. 如何使用現有的重要資產、詞彙和連絡人來啟動平臺？
9. 如何整合現有的系統？
10. 如何收集意見反應並建立持續性流程？

雖然您可能不會立即回答這些問題，但它可以協助您的組織為此專案進行框架，並確保能符合所有「必須」的需求。

## <a name="include-the-right-stakeholders"></a>包含適當的專案關係人

為了確保整個企業都能成功執行範疇，請務必參與適當的專案關係人。 在初始階段中，只有一些人參與。 不過，隨著範圍的擴充，您將需要額外的角色來參與專案並提供意見反應。

一些您可能想要包含的重要專案關係人：

|角色|角色|
|---------|---------|
|**首席資料官**|CDO 會監看一系列可能包含資料管理、資料品質、主要資料管理、資料科學、商業智慧和建立資料策略的函式。 他們可以是範疇實行專案的贊助者。|
|**網域/企業擁有者**|影響工具使用方式並具有預算控制的業務人員|
|**資料分析師**|能夠建立商務問題的框架，並分析資料以協助領導人做出商務決策|
|**資料結構設計師**|設計任務關鍵性企業營運應用程式的資料庫，以及設計和實施資料安全性|
|**資料工程師**|操作和維護資料堆疊、從不同來源提取資料、整合和準備資料、設定資料管線|
|**資料科學家**|建立分析模型，並設定要由 Api 存取的資料產品|
|**資料庫管理員**|在服務等級協定內擁有、追蹤和解決與資料庫相關的事件和要求 (Sla) ;可以設定資料管線|
|**DevOps**|企業營運應用程式開發和執行;可能包含撰寫腳本和協調流程功能|
|**資料安全性專家**|評估整體網路和資料安全性，包括進出範疇的資料|

## <a name="identify-key-scenarios"></a>識別主要案例

範疇可以用來集中管理跨雲端和內部部署環境之組織資料資產的資料管理。 若要成功執行，您必須識別對企業至關重要的重要案例。 這些案例可以跨業務單位界限，或影響多個使用者角色，也就是上游或下游。

這些案例可以透過各種方式來撰寫，但您應該至少包含下列五個維度：

1. 角色–使用者是誰？
2. 來源系統–資料來源，例如 Azure Data Lake Storage Gen2 或 Azure SQL Database？
3. 影響區域–此案例的類別為何？
4. 詳細案例–使用者如何使用範疇來解決問題？
5. 預期的結果–什麼是成功準則？

這些案例必須是特定、可採取動作的，且可執行檔具有可測量的結果。 您可以使用的一些範例案例：

|狀況|詳細資料|角色|
|---------|---------|---------|
|目錄商務關鍵資產|我需要取得每個資料集的相關資訊，以充分瞭解其功能。 此案例包含有關目錄中資料集的商務和技術中繼資料資料。 資料來源包含 Azure Data Lake Storage Gen2、Azure Synapse DW 和/或 Power BI。 此案例也包含內部部署資源（例如 SQL Server）。|商務分析師、資料科學家、資料工程師|
|探索商務關鍵資產|我需要有搜尋引擎，才能搜尋目錄中的所有中繼資料。 我應該可以使用萬用字元，以簡單或複雜的搜尋來搜尋技術詞彙與商務詞彙。|商務分析師、資料科學家、資料工程師、資料管理員|
|追蹤資料以瞭解其來源資料並針對資料問題進行疑難排解|我必須有資料歷程，才能將報表、預測或模型中的資料追蹤回其原始來源，以及瞭解資料在資料生命週期中的存在變更。 此案例必須支援 Azure Data Factory 和 Databricks 的優先順序資料管線。|資料工程師，資料科學家|
|豐富重要資料資產的中繼資料|我需要使用自動產生的技術中繼資料，豐富目錄中的資料集。 分類和標記是一些範例。|資料工程師，網域/企業擁有者|
|使用易記的使用者體驗來管理資料資產|我需要商務相關中繼資料的商務詞彙。 商務使用者可以使用範疇進行自助案例來批註其資料，並透過搜尋輕鬆地探索資料。|網域/企業擁有者、商務分析師、資料科學家、資料工程師|

## <a name="deployment-models"></a>部署模型

如果您只有一個使用範疇搭配基本耗用量使用案例的小型群組，則此方法可以像是有一個範疇實例來服務整個群組一樣簡單。 不過，您可能也會想知道您的組織是否需要一個以上的範疇實例。 如果使用多個範疇實例，員工如何將資產從一個階段升級到另一個階段。

### <a name="determine-the-number-of-purview-instances"></a>判斷範疇實例的數目

在大部分的情況下，整個組織應該只會有一個範疇帳戶。 這種方法最充分利用「網路效果」，其中平臺的值會以指數方式增加為位於平臺內的資料函式。

不過，此模式有一些例外：

1. **測試新** 的設定-組織可能想要建立多個實例，以在隔離的環境中測試掃描設定或分類。 雖然某些平臺（例如詞彙）中有「版本設定」功能，但使用「可處置」的實例可以自由進行測試會比較容易。
2. **分隔測試、預先生產和生產環境** -組織想要針對不同環境中儲存的不同資料類型，建立不同的平臺。 不建議您這麼做，因為這類資料是不同的內容類型。 您可以使用位於最上層階層層級或類別目錄的詞彙來分隔內容類型。
3. **Conglomerates 和同盟模型** -Conglomerates 通常會有許多業務單位 (匯流排) 分別運作，而且在某些情況下，它們甚至不會彼此共用計費。 在這些情況下，組織最後會建立每個 BU 的範疇實例。 此模型並不理想，但可能是必要的，尤其是因為匯流排通常不願意共用計費。
4. **相容性** –有一些嚴格的合規性制度，它會將中繼資料視為機密，而且需要在特定地理位置中。 如果公司有多個地理位置，唯一的解決方案就是擁有多個範疇實例，每個地理位置各一個。

### <a name="create-a-process-to-move-to-production"></a>建立移至生產環境的進程

某些組織可能會藉由使用範疇的單一生產版本，來決定是否要讓事情更簡單。 他們可能不需要超越探索、搜尋和流覽案例。 如果某些資產有不正確的詞彙，則很容許讓人們自行修正。 不過，大部分想要跨不同業務單位部署範疇的組織，都需要有某種形式的流程和控制。

要包含在您的生產過程中的另一個重要層面，就是如何遷移分類和標籤。 範疇有超過90的系統分類器。 您可以對檔案、資料表或資料行資產套用系統或自訂分類。 分類就像是主旨標記，可用來標記和識別在掃描期間于您的資料資產內找到的特定類型內容。 敏感度標籤可用來識別組織資料中分類類型的類別，然後將您想要套用的原則分組至每個類別。 它利用與 Microsoft 365 相同的機密資訊類型，可讓您在整個內容和資料資產之間延展現有的安全性原則和保護。 它可以掃描和自動分類檔。 例如，如果您有一個名為 multiple.docx 的檔案，且其內容中有全國識別碼號碼，範疇會在資產詳細資料頁面中新增分類，例如歐盟國家/地區識別碼。

在範疇中，有數個區域，目錄管理員必須確保其生命週期的一致性和維護最佳作法：

* **資料資產** –資料來源必須在環境之間重新掃描。 不建議只在開發期間掃描，然後在生產環境中使用 Api 重新產生它們。 主要的原因是範疇掃描器在幕後對資料資產進行了更多「接線」，而將它們移至不同的範疇實例可能很複雜。 您可以更輕鬆地在生產環境中新增相同的資料來源，並再次掃描來源。 一般最佳作法是使用所有掃描、連接和使用的驗證機制的相關檔。
* **掃描規則集** –這是指派給特定掃描的規則集合，例如要偵測的檔案類型和分類。 如果您沒有這麼多掃描規則集，就可以透過生產環境再次手動重新建立它們。 這將需要內部進程和良好的檔。 但是，如果您的規則集每日或每週都有變更，您可以藉由探索 REST API 路由來解決此問題。
* **自訂分類** –您的分類可能也不會定期變更。 在部署的初始階段，您可能需要花一些時間來瞭解自訂分類的各種需求。 不過，一旦進行了切換，就不需要太多變更。 因此，此處的建議是手動遷移任何自訂分類，或使用 REST API。
* **詞彙** –您可以透過 UX 匯出和匯入詞彙字詞。 在自動化案例中，您也可以使用 REST API。
* **資源集模式原則** -這項功能對於任何要套用的一般組織而言非常先進。 在某些情況下，您的 Azure Data Lake Storage 具有資料夾命名慣例和特定結構，可能會造成範疇產生資源集的問題。 您的業務單位也可能會想要使用額外的自訂變更資源集結構，以符合商務需求。 在此案例中，最好透過 REST API 追蹤所有變更，並透過外部版本控制平臺記錄變更。
* **角色指派** –您可以在這裡控制可存取範疇的人員，以及他們擁有的許可權。 範疇也有 REST API 可支援匯出和匯入使用者和角色，但這並不是與應用程式開發介面相容。 建議您改為指派 Azure 安全性群組並管理群組成員資格。

### <a name="plan-and-implement-different-integration-points-with-purview"></a>使用範疇規劃和執行不同的整合點

成熟的組織可能已經有現有的資料目錄。 重要的問題是，是否要繼續使用現有的技術，並與範疇同步。 範疇可讓您透過塔 Api 發佈資訊，但其實並不是為了支援這種情況。 某些組織可能會一開始就決定啟動範疇的使用方式，方法是從其他資料目錄解決方案中遷移現有的資料資產。 這可以透過使用的一種方法，透過塔 Api 來完成。 若要在不同的目錄技術之間進行同步處理，在長期設計中不應該考慮。 通常會發生的情況是，當範疇用來掃描較新的資料來源時，每個業務單位可能會繼續使用現有的解決方案來取得較舊的資料資產。

針對其他整合案例，例如票證、自訂使用者介面和協調流程，您可以使用塔 Api 和 Kafka 端點。 一般而言，範疇有四個整合點：

* **資料資產** -這可讓範疇掃描商店的資產，以列舉這些資產的內容，並收集任何有關這些資產的立即可用中繼資料。 因此針對 SQL，這可能是資料庫、資料表、預存程式、相關的視圖和設定資料的清單，如所示 `sys.tables` 。 針對像是 Azure Data Factory (ADF) 這可能會列舉所有的管線，並在建立、上次執行、目前的狀態時取得資料。
* 歷程 **–這** 可讓範疇從分析/資料變化系統收集資料如何四處移動的資訊。 對於 Spark 這類的事情，這可能是從筆記本的執行中收集資訊，以查看筆記本所內嵌的資料、其轉換方式以及輸出的位置。 針對類似 SQL 的程式，它可能會分析查詢記錄，以對執行中的變化作業和執行的工作進行反向工程。 我們會根據需求，支援推播和提取型的歷程。
* **分類** -這可讓範疇從資料來源取得實體範例，並透過我們的分類系統來執行。 分類系統會找出資料片段的語法。 例如，我們可能知道檔案是 Parquet 檔案，而且有三個數據行，而第三個是字串。 但是我們在範例上執行的分類器會告訴我們，字串是名稱、位址或電話號碼。 將此整合點往上照明表示我們定義了範疇可以如何開啟物件，例如筆記本、管線、parquet 檔案、資料表和容器。
* **內嵌體驗** –具有「 (studio」（例如 ADF、SYNAPSE、SQL STUDIO、PBI 和 Dynamics) ）的產品，通常會想要讓使用者能夠探索想要與之互動的資料，同時也能找到輸出資料的位置。 範疇的目錄有助於藉由提供內嵌體驗來加速這些體驗。 此體驗可能會在 API 或 UX 層級的選項發生。 藉由內嵌對範疇的呼叫，組織可利用範疇的資料資產地圖來尋找資料資產、查看歷程、檢查架構、查看評等、連絡人等等。

## <a name="phase-1-pilot"></a>階段1：試驗

在這個階段中，您必須為一小部分的使用者建立和設定範疇。 通常，這只是一組2-3 人員共同合作，以透過端對端案例執行。 這些會被視為組織中範疇的提倡者。 這個階段的主要目標是要確保能符合主要功能，而適當的專案關係人會察覺到專案。

### <a name="tasks-to-complete"></a>要完成的工作

|工作|詳細資料|持續時間|
|---------|---------|---------|
|收集 & 同意需求|討論所有專案關係人，以收集一組完整的需求。 不同的角色必須參與專案的每個階段，才能達成需求的子集。|1周|
|設定入門套件|前往 [範疇快速入門](create-catalog-portal.md) ，並設定 [範疇入門套件](tutorial-scan-data.md) 以示範範疇給所有專案關係人。|1 天|
|導覽範疇|瞭解如何從首頁使用範疇。|1 天|
|設定 ADF 以進行歷程|識別重要管線和資料資產。 收集連接至內部 ADF 帳戶所需的所有資訊。|1 天|
|掃描資料來源，例如 Azure Data Lake Storage|新增資料來源並設定掃描。 請確定掃描成功偵測到所有資產。|2天|
|搜尋和流覽|允許終端使用者存取範疇，並執行端對端搜尋和流覽案例。|1 天|

### <a name="acceptance-criteria"></a>驗收準則

* 已成功在組織租使用者下的組織訂用帳戶中建立範疇帳戶。
* 具有多個角色的一小使用者群組可以存取範疇。
* 範疇設定為至少掃描一個資料來源。
* 使用者應該能夠將範疇的索引鍵值解壓縮，例如：
  * 搜尋和流覽
  * 歷程
* 使用者應該能夠在資產頁面中指派資產擁有權。
* 展示和示範，以對重要的專案關係人提出認知。
* 從管理中購買，以核准 MVP 階段的其他資源。

## <a name="phase-2-minimum-viable-product"></a>第2階段：最小可行產品

當您有同意的需求並參與業務單位來讓範疇上線後，下一步就是使用最小的可行產品 (MVP) 版本。 在這個階段中，您會將範疇的使用方式擴充到需要水準和垂直其他需求的更多使用者。 所有使用者都必須水準符合重要案例，例如詞彙、搜尋和流覽。 此外，每個營業單位或群組也會有垂直的需求，以涵蓋特定的端對端案例，例如從 Azure Data Lake Storage 至 Azure Synapse DW 到 Power BI 的歷程。

### <a name="tasks-to-complete"></a>要完成的工作

|工作|詳細資料|持續時間|
|---------|---------|---------|
|[掃描 Azure Synapse Analytics](register-scan-azure-synapse-analytics.md)|開始將您的資料庫來源上線，並加以掃描以填入重要資產|2天|
|[建立自訂分類和規則](create-a-custom-classification-and-classification-rule.md)|掃描資產之後，您的使用者可能會發現在範疇的預設分類旁邊有更多分類的使用案例。|2-4 周|
|[掃描 Power BI](register-scan-power-bi-tenant.md)|如果您的組織使用 Power BI，您可以掃描 Power BI，以收集資料科學家或資料分析師所使用的所有資料資產，其需求是要包含儲存層的歷程。|1-2 周|
|[匯入詞彙](how-to-create-import-export-glossary.md)|在大部分情況下，您的組織可能已經開發了一組詞彙和資產的詞彙指派。 這需要透過 .csv 檔案將程式匯入範疇。|1周|
|將連絡人新增至資產|針對排名最高的資產，您可能會想要建立一個程式，讓其他角色指派連絡人或透過 REST Api 匯入。|1周|
|新增敏感性標籤和掃描|這對某些組織而言可能是選擇性的，視 M365 的標籤使用情形而定。|1-2 周|
|取得分類和敏感性見解|如需範疇中的報告和深入解析，您可以存取這項功能來取得各種報表，並提供簡報給管理。|1 天|
|使用範疇受管理的使用者登入新增使用者|此步驟將需要範疇系統管理員與 Azure Active Directory 系統管理員合作，以建立新的安全性群組以授與範疇的存取權。|1周|

### <a name="acceptance-criteria"></a>驗收準則

* 成功將較大的使用者群組上架到範疇 (50 +) 
* 掃描商務關鍵資料來源
* 匯入並指派所有重要詞彙條款
* 成功測試金鑰資產的重要標籤
* 成功符合參與業務單位使用者的最小案例

## <a name="phase-3-pre-production"></a>第3階段：進入生產階段前

一旦通過 MVP 階段，就可以規劃進入生產階段前的里程碑。 您的組織可能會決定在進入生產階段前和生產環境中使用不同的範疇實例，或保留相同的實例，但限制存取。 此外，在此階段中，您可能會想要在內部部署資料來源（例如 SQL Server）上納入掃描。 如果範疇不支援的資料來源中有任何間距，就可以探索此塔 API 以瞭解其他選項。

### <a name="tasks-to-complete"></a>要完成的工作

|工作|詳細資料|持續時間|
|---------|---------|---------|
|使用掃描規則集來精簡掃描|您的組織將會有許多資料來源可用於生產階段前。 請務必預先定義掃描的按鍵準則，如此一來，就可以一致地在面板上套用分類和副檔名。|1-2 天|
|評估區域可用性以進行掃描|視資料來源的區域和合規性和安全性的組織需求而定，您可能會想要考慮哪些區域必須可用於掃描。|1 天|
|瞭解掃描時的防火牆概念|此步驟需要一些探索組織如何設定防火牆，以及範疇如何自行驗證以存取資料來源以進行掃描。|1 天|
|瞭解掃描時的 Private Link 概念|如果您的組織使用 Private Link，您必須配置網路安全性的基礎，以將 Private Link 納入為需求的一部分。|1 天|
|[掃描內部部署 SQL Server](register-scan-on-premises-sql-server.md)|如果您有內部部署 SQL Server，則這是選擇性的。 掃描將需要設定自我裝載 [的 Integration Runtime](manage-integration-runtimes.md) ，並將 SQL Server 新增為數據源。|1-2 周|
|將範疇 REST API 用於整合案例|如果您有需要整合範疇與其他協力廠商技術（例如協調流程或票證系統）的需求，您可能會想要探索 REST API 領域。|1-4 周|
|瞭解範疇定價|此步驟會提供組織重要的財務資訊來進行決策。|1-5 天|

### <a name="acceptance-criteria"></a>驗收準則

* 已成功在所有使用者上架至少一個業務單位
* 掃描內部部署資料來源，例如 SQL Server
* POC 至少一個使用 REST API 的整合案例
* 完成移至生產環境的計畫，其中應包含基礎結構和安全性的重要區域

## <a name="phase-4-production"></a>第4階段：生產環境

您應遵循上述階段來建立有效的資訊管理，這是更妥善治理程式的基礎。 資料治理可協助您的組織針對不斷成長的趨勢（例如 AI、Hadoop、IoT 和區塊鏈）做好準備。 這只是許多事物資料和分析的起點，還有更多可供您討論的專案。 此解決方案的結果將提供：

* 以 **商務為焦點**-符合商務需求的解決方案與技術需求的案例。
* **未來就緒** -解決方案可充分發揮平臺的預設功能，並使用標準化的產業實務來進行設定或腳本活動，以支援平臺的進展/演進。

### <a name="tasks-to-complete"></a>要完成的工作

|工作|詳細資料|持續時間|
|---------|---------|---------|
|在啟用防火牆的情況下掃描生產資料來源|如果在有防火牆時，這是選擇性的，但請務必探索強化基礎結構的選項。|1-5 天|
|啟用 Private Link|如果使用 Private Link 時，則為選擇性。 否則，您可以略過這一點，因為啟用私用時，它是必須有的條件。|1-5 天|
|建立自動化工作流程|工作流程對於自動化程式很重要，例如核准、擴大、評論和問題管理。|2-3 周|
|操作檔|資料管理不是一次性專案。 它是一項持續性的程式，可將資料驅動決策制定和創造商務商機。 記錄重要程式和商務標準是很重要的。|1周|

### <a name="acceptance-criteria"></a>驗收準則

* 已成功將所有業務單位和使用者上線
* 成功符合生產環境的基礎結構和安全性需求
* 成功滿足使用者所需的所有使用案例

## <a name="platform-hardening"></a>平臺強化

您可以採取其他強化步驟：

* 藉由啟用防火牆資源的掃描或使用 Private Link 來提高安全性狀態
* 微調範圍掃描以改善掃描效能
* 使用 REST Api 來匯出重要的中繼資料和屬性以進行備份和復原
* 使用工作流程將票證和事件自動化，以避免人為錯誤

## <a name="next-steps"></a>後續步驟

- [教學課程：執行入門套件並掃描資料](tutorial-scan-data.md)
- [教學課程：導覽首頁並搜尋資產](tutorial-asset-search.md)