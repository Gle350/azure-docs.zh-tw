---
title: 在 Azure HPC Cache 中使用存取原則
description: 如何建立及套用自訂存取原則，以限制用戶端存取 Azure HPC Cache 中的儲存體目標
author: ekpgh
ms.service: hpc-cache
ms.topic: how-to
ms.date: 12/28/2020
ms.author: v-erkel
ms.openlocfilehash: 795b194eb7cd31e633128c22ddffe808b32e07da
ms.sourcegitcommit: 7e97ae405c1c6c8ac63850e1b88cf9c9c82372da
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/29/2020
ms.locfileid: "97802402"
---
# <a name="use-client-access-policies"></a>使用用戶端存取原則

本文說明如何為您的儲存體目標建立並套用自訂用戶端存取原則。

用戶端存取原則可控制用戶端連接至儲存體目標匯出的方式。 您可以在用戶端主機或網路層級控制根 squash 和讀取/寫入存取等專案。

存取原則會套用至命名空間路徑，這表示您可以在 NFS 儲存體系統上對兩個不同的匯出使用不同的存取原則。

這項功能適用于您需要控制不同群組的用戶端如何存取儲存體目標的工作流程。

如果您不需要對儲存體目標存取有更細微的控制，您可以使用預設原則，也可以自訂具有額外規則的預設原則。

## <a name="create-a-client-access-policy"></a>建立用戶端存取原則

使用 Azure 入口網站中的 [ **用戶端存取原則** ] 頁面來建立和管理原則。 <!-- is there AZ CLI for this? -->

[![[用戶端存取原則] 頁面的螢幕擷取畫面。已定義數個原則，而某些原則會展開以顯示其規則](media/policies-overview.png)](media/policies-overview.png#lightbox)

每個原則都是由規則所組成。 從最小的範圍 (主機) 到最大 (預設) ，會將規則套用至主機。 套用相符的第一個規則，並忽略稍後的規則。

若要建立新的存取原則，請按一下清單頂端的 [ **+ 新增存取原則** ] 按鈕。 提供新的存取原則名稱，然後輸入至少一個規則。

![[存取原則] 編輯分頁的螢幕擷取畫面，其中已填入多個規則。 按一下 [確定] 以儲存規則。](media/add-policy.png)

本節的其餘部分將說明您可以在規則中使用的值。

### <a name="scope"></a>影響範圍

範圍詞彙和位址篩選準則會一起運作，以定義受規則影響的用戶端。

您可以使用它們來指定規則是套用到個別的用戶端 (主機) 、 (網路) 的 IP 位址範圍，或 (預設) 的所有用戶端。

為您的規則選取適當的 **範圍** 值：

* **主機** -規則會套用至個別用戶端
* **網路** -規則會套用至 IP 位址範圍中的用戶端
* **預設值** -規則會套用至所有用戶端。

原則中的規則會依照該順序進行評估。 在用戶端掛接要求符合一項規則之後，會忽略其他規則。

### <a name="address-filter"></a>位址篩選

**位址篩選** 值會指定符合規則的用戶端。

如果您將範圍設定為 [ **主機**]，就只能在篩選中指定一個 IP 位址。 針對範圍設定 **預設**，您無法在 [ **位址篩選** ] 欄位中輸入任何 IP 位址，因為預設範圍符合所有用戶端。

指定此規則的 IP 位址或位址範圍。 使用 CIDR 標記法 (範例：0.1.0.0 版/16) 來指定位址範圍。

### <a name="access-level"></a>存取層級

設定要授與符合範圍和篩選準則之用戶端的許可權。

選項為 [ **讀取/寫入**]、[ **唯讀**] 或 [ **無存取**]。

### <a name="suid"></a>SUID

核取 [ **SUID** ] 方塊，允許儲存體中的檔案在存取時設定使用者識別碼。

SUID 通常是用來暫時增加使用者的許可權，讓使用者可以完成與該檔案相關的工作。

### <a name="submount-access"></a>Submount 存取

核取此方塊可讓指定的用戶端直接掛接此匯出的子目錄。

### <a name="root-squash"></a>根 squash

選擇是否要為符合此規則的用戶端設定根 squash。

此值可讓您在儲存體匯出層級允許根 squash。 您也可以 [在快取層級設定根 squash](configuration.md#configure-root-squash)。

如果您開啟根 squash，您也必須將匿名識別碼使用者值設定為下列其中一個選項：

* **-2** (沒有人) 
* **65534** (沒有人) 
* **-1** (沒有存取權) 
* **65535** (沒有存取權) 
* **0** (無特殊許可權的根) 

## <a name="update-access-policies"></a>更新存取原則

您可以在 [ **用戶端存取原則** ] 頁面中，編輯或刪除資料表的存取原則。

按一下原則名稱以開啟它進行編輯。

若要刪除原則，請在清單中標示其名稱旁邊的核取方塊，然後按一下清單頂端的 [ **刪除** ] 按鈕。 您無法刪除名稱為 "default" 的原則。

> [!NOTE]
> 您無法刪除使用中的存取原則。 請從包含該原則的任何命名空間路徑移除該原則，然後再嘗試刪除它。

## <a name="next-steps"></a>後續步驟

* 將存取原則套用至儲存體目標的命名空間路徑。 若要瞭解作法，請參閱 [設定匯總的命名空間](add-namespace-paths.md) 。
